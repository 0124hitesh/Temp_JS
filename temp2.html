<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
    <title>Guessing Game</title>

    <style>
        .center {
        margin: 0 auto;
        text-align: center;
        }

        #number-input {
        width: 350px;
        height: 60px;
        text-align: center;
        margin: 1.5%;
        }

        p, h1, h4, .btn {
        margin: 10px;
        }

        h1 {
        margin: 50px;
        }

        .background {
        background-color: rgb(205, 205, 243);
        }

        p {
            font-size: 16px;
        padding-top: 10px;
        }

    </style>

</head>

<body class="background">
        <div class="container-fluid">
          <div class="center">
            <h1>Guessing Game</h1>
            <p id='helper-text'>Enter a guess from 1-100.</p>
      
            <form id="guessing-form" onsubmit="return false">
                <input class='hide-me' id="number-input" type="text" placeholder="Enter a guess" autocomplete="off"/>
                <br>
                <button id="hint-btn" class="btn btn-default" type="button">Give a hint</button>
                <button id='submit-btn' class="btn btn-lg btn-primary hide-me" type="button" onclick="check()">Submit</button>
                <button id='startover-btn' class="btn btn-default" type="button">Start Over!</button>
            </form>

            <div id='prev-guesses' class='hide-me'></div>
            <div class='hide-me'><p>Remaining Guesses:</p><h4 id="guesses-remaining">5</h4></div>
            <div id="prize-image"></div>
          </div>
        </div>

        <script>
            window.onkeypress = function(e){
                if(e.keyCode === 13){
                    check();
                    return
                }
            }

            const sb = document.getElementById('submit-btn');
            const sta = document.getElementById('startover-btn');
            sta.onclick = function(){
                location.reload();
            }

            const hint = document.getElementById('hint-btn');
            const msg = document.getElementById('helper-text');
            const inpu = document.getElementById('number-input');

            const guess = document.getElementById('guesses-remaining');
            const prev_guess = document.getElementById('prev-guesses');
            
            const ran = Math.floor(Math.random()*100);

            hint.onclick = function(){
                alert('Number is between ' + (ran - 5) + " - " + (ran + 5));
            }
                    
            async function check(e){
                const inp = parseInt(inpu.value)

                if(!Number.isInteger(inp)){
                    alert('Enter a number');
                    inpu.value = "";
                    return
                }

                if(inp < (ran + 10) && inp > ran){
                    msg.innerText = "Try little lower"
                }
                else if((ran - 10) < inp && inp < ran){
                    msg.innerText = "Try little higher"
                }
                else if(inp > 100 || inp < 0){
                    msg.innerText = "Enter a guess from 0 - 100"
                }
                else{
                    msg.innerText = "Make another guess"
                }

                if(inp === ran){
                    alert('Congrats! You won')
                    location.reload()
                }
                else if(parseInt(guess.innerText) === 1){
                    location.reload()
                }

                if(prev_guess.innerText === ''){
                    prev_guess.innerText = 'Your previous guesses are : ' + inp
                }
                else{
                    prev_guess.innerText = prev_guess.innerText + ", " + inp 
                }
                inpu.value = ""
                guess.innerText = parseInt(guess.innerText) - 1;
            }

        </script>
</body>
</html>